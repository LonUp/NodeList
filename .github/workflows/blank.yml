#-------------------------------------------------------------#
# Telegram Channel:@LONUP_M
#-------------------------------------------------------------#
mixed-port: 6985
allow-lan: true
mode: rule
log-level: info
external-controller: 127.0.0.1:9090
cfw-latency-timeout: 7000
cfw-latency-url: http://www.google-analytics.com/generate_204
cfw-proxies-order: latency
experimental:
  ignore-resolve-fail: true
ipv6: true
dns:
  enable: true
  ipv6: true
  enhanced-mode: fake-ip
  nameserver:
    - https://basic.rethinkdns.com/dns-query
    - https://NoTMIKE.dev/dns.php
    - tls://one.one.one.one:853
    - tls://dns.google:853
    - https://dns.google/dns-query
    - https://cloudflare-dns.com/dns-query
    - https://dns.adguard.com/dns-query
    - https://doh-de.blahdns.com/dns-query
    - https://dns.adguard-dns.com/dns-query
    - https://1.1.1.1/dns-query
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query
  fallback:
    - https://basic.rethinkdns.com/dns-query
    - https://azure.cloudflare-dns.com/dns-query
    - https://dns64.cloudflare-dns.com/dns-query
    - https://dns1.ryan-palmer.com/dns-query
    - https://odvr.nic.cz/dns-query
    - https://doh.crypto.sx/dns-query
    - https://puredns.org/dns-query
    - https://dns.dnshome.de/dns-query
    - https://doh.seby.io:8443/dns-query
    - https://ibksturm.synology.me/dns-query
    - https://dns.hostux.net/dns-query
    - https://doh.libredns.gr/dns-query
    - https://NoTMIKE.dev/dns.php
    - https://doh.42l.fr/dns-query
    - https://DNS.HeN.ee/dns-query
    - https://doh.dnswarden.com/uncensored
    - tls://one.one.one.one:853
    - tls://dns.google:853
    - https://dns.google/dns-query
    - https://dns64.dns.google/dns-query
    - https://8888.google/dns-query
    - https://cloudflare-dns.com/dns-query
    - https://dns.quad9.net/dns-query
    - https://mozilla.cloudflare-dns.com/dns-query
    - https://EU2.DNS.LAVATE.CH/dns-query
    - https://DANDELIONSPROUT.Asuscomm.com:2501/dns-query
    - https://dns.switch.ch/dns-query
    - https://dnsforge.de/dns-query
    - https://dns.adguard.com/dns-query
    - https://doh-de.blahdns.com/dns-query
    - https://doh.dns.sb/dns-query
    - https://dns.cloudflare.com/dns-query
    - https://dns.twnic.tw/dns-query
fallback-filter:
    geoip: true
    geoip-code: IR
    ipcidr:
      - 240.0.0.0/4
      - 0.0.0.0/32
      - 127.0.0.1/32
    domain:
      - +.google.com
      - +.facebook.com
      - +.youtube.com
      - +.gvt1.com
      - '+.facebook.com'
      - '+.twitter.com'
      - '+.youtube.com'
      - '+.bing.com'
fake-ip-filter:
    - "*.lan"
    - stun.*.*.*
    - stun.*.*
    - time.windows.com
    - time.nist.gov
    - time.apple.com
    - time.asia.apple.com
    - "*.openwrt.pool.ntp.org"
    - pool.ntp.org
    - ntp.ubuntu.com
    - time1.apple.com
    - time2.apple.com
    - time3.apple.com
    - time4.apple.com
    - time5.apple.com
    - time6.apple.com
    - time7.apple.com
    - time1.google.com
    - time2.google.com
    - time3.google.com
    - time4.google.com
    - api.joox.com
    - joox.com
    - "*.xiami.com"
    - "*.msftconnecttest.com"
    - "*.msftncsi.com"
    - "*.*.stun.playstation.net"
    - xbox.*.*.microsoft.com
    - "*.ipv6.microsoft.com"
    - speedtest.cros.wr.pvp.net
    - 'dns.msftncsi.com'
    - 'www.msftncsi.com'
    - 'www.msftconnecttest.com'
proxies:
  - {"name":"Ꮮᝪᑎᑌᑭ 𖡺","type":"ss","server":"134.195.196.143","port":805,"password":"G!yBwPWH3Vao","cipher":"chacha20-ietf-poly1305"}
proxy-groups:
  - name: 🌐ALL ⟪@LonUp_M⟫
    type: select
    proxies:
      - ⚓Direct
      - ⛔BLOCK
      - Ꮮᝪᑎᑌᑭ 𖡺
  - name: 👑TestGroups
    type: select
    proxies:
      - ⚡test⊶1
      - ⚡test⊶2
      - ⚡test⊶3
      - ⚡test⊶4
      - 🔹fallback◈1
      - 🔹fallback◈2
      - 🔹fallback◈3
      - 🔹fallback◈4
      - 🧠load-balance⇋1
      - 🧠load-balance⇋2
      - 🧠load-balance⇋3
      - 🧠load-balance⇋4
      - 💦relay
  - name: 💦relay
    type: relay
    proxies:
      - Ꮮᝪᑎᑌᑭ 𖡺
  - name: ⚡test⊶1
    type: url-test
    url: 'http://www.gstatic.com/generate_204'
    interval: 800
    tolerance: 300
    proxies:
      - Ꮮᝪᑎᑌᑭ 𖡺
  - name: ⚡test⊶2
    type: url-test
    url: 'http://cp.cloudflare.com/'
    interval: 800
    tolerance: 300
    proxies:
      - Ꮮᝪᑎᑌᑭ 𖡺
  - name: ⚡test⊶3
    type: url-test
    url: 'http://captive.apple.com'
    interval: 800
    tolerance: 300
    proxies:
      - Ꮮᝪᑎᑌᑭ 𖡺
  - name: ⚡test⊶4
    type: url-test
    url: 'http://detectportal.firefox.com/success.txt'
    interval: 800
    tolerance: 300
    proxies:
      - Ꮮᝪᑎᑌᑭ 𖡺
  - name: 🔹fallback◈1
    type: fallback
    url: 'http://www.google-analytics.com/generate_204'
    interval: 700
    proxies:
      - Ꮮᝪᑎᑌᑭ 𖡺
  - name: 🔹fallback◈2
    type: fallback
    url: 'http://cp.cloudflare.com/generate_204'
    interval: 700
    proxies:
      - Ꮮᝪᑎᑌᑭ 𖡺
  - name: 🔹fallback◈3
    type: fallback
    url: 'http://www.apple.com/library/test/success.html'
    interval: 700
    proxies:
      - Ꮮᝪᑎᑌᑭ 𖡺
  - name: 🔹fallback◈4
    type: fallback
    url: 'http://connect.rom.miui.com/generate_204'
    interval: 700
    proxies:
      - Ꮮᝪᑎᑌᑭ 𖡺
  - name: 🧠load-balance⇋1
    type: load-balance
    url: 'http://www.google.com/generate_204'
    interval: 666
    strategy: round-robin
    proxies:
      - Ꮮᝪᑎᑌᑭ 𖡺
  - name: 🧠load-balance⇋2
    type: load-balance
    url: 'https://raw.githubusercontent.com/LonUp/NodeList/main/URL_TEST.yaml'
    interval: 666
    strategy: consistent-hashing
    proxies:
      - Ꮮᝪᑎᑌᑭ 𖡺
  - name: 🧠load-balance⇋3
    type: load-balance
    url: 'http://www.msftconnecttest.com/connecttest.txt'
    interval: 666
    strategy: round-robin
    proxies:
      - Ꮮᝪᑎᑌᑭ 𖡺
  - name: 🧠load-balance⇋4
    type: load-balance
    url: 'http://www.qualcomm.cn/generate_204'
    interval: 666
    strategy: consistent-hashing
    proxies:
      - Ꮮᝪᑎᑌᑭ 𖡺
  - name: ⚓Direct
    type: select
    proxies:
      - DIRECT
  - name: ⛔BLOCK
    type: select
    proxies:
      - REJECT

rule-providers:
  reject:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/reject.txt"
    path: ./ruleset/reject.yaml
    interval: 900000

  google:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/google.txt"
    path: ./ruleset/google.yaml
    interval: 900000

  private:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/private.txt"
    path: ./ruleset/private.yaml
    interval: 900000

  iran:
    type: http
    behavior: classical
    url: "https://github.com/bootmortis/iran-hosted-domains/releases/latest/download/clash_rules.yaml"
    path: ./ruleset/iran.yaml
    interval: 900000

  AdBlock:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/LonUp/NodeList/main/NoTracking_Rules_Provider.txt"
    path: ./ruleset/NoTracking_Rules_Provider.txt
    interval: 900000
rules:
  - GEOIP,IR,DIRECT
  - DOMAIN-SUFFIX,ir,DIRECT
  - MATCH ,⚡test⊶1, ⚡test⊶2, ⚡test⊶3, ⚡test⊶4, 🧠load-balance⇋1, 🧠load-balance⇋2, 🧠load-balance⇋3, 🧠load-balance⇋4, 🔹fallback◈1, 🔹fallback◈2, 🔹fallback◈3, 🔹fallback◈4,
  - RULE-SET,private,DIRECT
  - RULE-SET,reject,REJECT
  - RULE-SET,google,DIRECT
  - RULE-SET,iran,DIRECT
  - RULE-SET,AdBlock,REJECT
  - GEOIP,LAN,DIRECT
